# Best way to integrate this is adding the following line to your VirtualHost definition:
# Include /path/to/website/.htdev
#
# WARNING:
# If you do not include this file as mentioned above and rewrite rules do not work for you,
# you might need to locally remove leading slashes from the rewrite rules.
# Including as mentioned above should work in almost every case.

# Include old .htdev
Include /var/www/phpbb.com/htdocs/old/.htdev

RewriteEngine On

# Exists in /old as directory or file and if so serve it
RewriteCond /var/www/phpbb.com/htdocs/old%{REQUEST_URI} -f [OR]
RewriteCond /var/www/phpbb.com/htdocs/old%{REQUEST_URI} -d
RewriteRule ^(.*)$ /var/www/phpbb.com/htdocs/old$1 [L]

# Exists in /symfony/web as directory or file and if so serve it
RewriteCond /var/www/phpbb.com/htdocs/symfony/web%{REQUEST_URI} -f [OR]
RewriteCond /var/www/phpbb.com/htdocs/symfony/web%{REQUEST_URI} -d
RewriteRule ^(.*)$ /var/www/phpbb.com/htdocs/symfony/web$1 [L]

# nope? Go through app.php which will handle errors such as 404
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_URI} !^/var/www/phpbb.com/htdocs/symfony/web
RewriteRule ^(.*)$ /var/www/phpbb.com/htdocs/symfony/web/app.php$1 [L]

# Hello ErrorDocuments! I guess they could do with prettification by way of title image and header?
ErrorDocument 401 /var/www/phpbb.com/htdocs/old/errordocs/401.php
ErrorDocument 403 /var/www/phpbb.com/htdocs/old/errordocs/403.php
ErrorDocument 404 /var/www/phpbb.com/htdocs/old/errordocs/404.php
ErrorDocument 412 /var/www/phpbb.com/htdocs/old/errordocs/412.php
ErrorDocument 500 /var/www/phpbb.com/htdocs/old/errordocs/500.php
